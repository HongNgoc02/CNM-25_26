<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Quản lý Sản Phẩm AWS</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        img { width: 80px; height: auto; }
        .form-group { margin-bottom: 10px; }
    </style>
</head>
<body>
<h1>Quản lý Sản Phẩm (AWS DynamoDB + S3)</h1>

<div style="background: #f9f9f9; padding: 15px; border-radius: 5px;">
    <h3>Thêm Sản Phẩm Mới</h3>
    <form action="/add" method="POST" enctype="multipart/form-data">
        <div class="form-group"><input type="text" name="name" placeholder="Tên sản phẩm" required></div>
        <div class="form-group"><input type="number" name="price" placeholder="Giá" required></div>
        <div class="form-group"><input type="number" name="quantity" placeholder="Số lượng" required></div>
        <div class="form-group">Ảnh: <input type="file" name="image" required></div>
        <button type="submit">Thêm ngay</button>
    </form>
</div>

<table>
    <thead>
    <tr>
        <th>Ảnh</th>
        <th>Tên</th>
        <th>Giá</th>
        <th>Số lượng</th>
        <th>Hành động</th>
    </tr>
    </thead>
    <tbody>
    <% products.forEach(p => { %>
        <tr>
            <td><img src="<%= p.url_image %>" alt="Ảnh SP"></td>
            <td><%= p.name %></td>
            <td><%= p.price %></td>
            <td><%= p.quantity %></td>
            <td>
                <form action="/delete/<%= p.id %>" method="POST" onsubmit="return confirm('Xóa nhé?');">
                    <button type="submit" style="color: red;">Xóa</button>
                </form>
            </td>
        </tr>
    <% }) %>
    </tbody>
</table>
</body>
</html>